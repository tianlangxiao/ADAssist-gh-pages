<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>老年人认知功能减退知情问卷</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
    <link href="../css/forScale.css" rel="stylesheet">
    <link href="../css/scale_style.css" rel="stylesheet">
</head>
<body>
<h2 id="pname"></h2>
<p>（注：请家属或照料者（非本人）填写 ；
    以下所有项目是目前与10年前相比，“无变化”指与当年一样，“明显好”指目前情况明显优于10年前；“明显差”指目前情况明显差于10年前。）</p>
<form id="form1" class="timu">
    <p>填写时间:</p>
    <input type="date" id="date" name="date">

    <ol>

        <li><p>记得家人和熟人的职业，生日和地址?</p>

            <input class="radio_type" type="radio" name="cogold1" value="5">好多了
            <input class="radio_type" type="radio" name="cogold1" value="4">好一点
            <input class="radio_type" type="radio" name="cogold1" value="3">没变化
            <input class="radio_type" type="radio" name="cogold1" value="2">差一点
            <input class="radio_type" type="radio" name="cogold1" value="1">差多了
            <input class="radio_type" type="radio" name="cogold1" value="0" >不知道

        </li>
        <li><p>记得最近发生的事情?</p>

            <input class="radio_type" type="radio" name="cogold2" value="5">好多了
            <input class="radio_type" type="radio" name="cogold2" value="4">好一点
            <input class="radio_type" type="radio" name="cogold2" value="3">没变化
            <input class="radio_type" type="radio" name="cogold2" value="2">差一点
            <input class="radio_type" type="radio" name="cogold2" value="1">差多了
            <input class="radio_type" type="radio" name="cogold2" value="0" >不知道

        </li>
        <li><p>记得几天前谈话的内容?</p>

            <input class="radio_type" type="radio" name="cogold3" value="5">好多了
            <input class="radio_type" type="radio" name="cogold3" value="4">好一点
            <input class="radio_type" type="radio" name="cogold3" value="3">没变化
            <input class="radio_type" type="radio" name="cogold3" value="2">差一点
            <input class="radio_type" type="radio" name="cogold3" value="1">差多了
            <input class="radio_type" type="radio" name="cogold3" value="0" >不知道

        </li>
        <li><p>记得自己的地址和电话号码?</p>

            <input class="radio_type" type="radio" name="cogold4" value="5">好多了
            <input class="radio_type" type="radio" name="cogold4" value="4">好一点
            <input class="radio_type" type="radio" name="cogold4" value="3">没变化
            <input class="radio_type" type="radio" name="cogold4" value="2">差一点
            <input class="radio_type" type="radio" name="cogold4" value="1">差多了
            <input class="radio_type" type="radio" name="cogold4" value="0" >不知道

        </li>
        <li><p>记得今天是星期几，是几月份?</p>

            <input class="radio_type" type="radio" name="cogold5" value="5">好多了
            <input class="radio_type" type="radio" name="cogold5" value="4">好一点
            <input class="radio_type" type="radio" name="cogold5" value="3">没变化
            <input class="radio_type" type="radio" name="cogold5" value="2">差一点
            <input class="radio_type" type="radio" name="cogold5" value="1">差多了
            <input class="radio_type" type="radio" name="cogold5" value="0" >不知道
        </li>
        <li><p>记得东西经常是放在什么地方?</p>

            <input class="radio_type" type="radio" name="cogold6" value="5">好多了
            <input class="radio_type" type="radio" name="cogold6" value="4">好一点
            <input class="radio_type" type="radio" name="cogold6" value="3">没变化
            <input class="radio_type" type="radio" name="cogold6" value="2">差一点
            <input class="radio_type" type="radio" name="cogold6" value="1">差多了
            <input class="radio_type" type="radio" name="cogold6" value="0" >不知道

        </li>
        <li><p>东西未放回原位，仍能找得到?</p>

            <input class="radio_type" type="radio" name="cogold7" value="5">好多了
            <input class="radio_type" type="radio" name="cogold7" value="4">好一点
            <input class="radio_type" type="radio" name="cogold7" value="3">没变化
            <input class="radio_type" type="radio" name="cogold7" value="2">差一点
            <input class="radio_type" type="radio" name="cogold7" value="1">差多了
            <input class="radio_type" type="radio" name="cogold7" value="0" >不知道

        </li>
        <li><p>使用日常用具的能力（如电视机，铁锤等）?</p>

            <input class="radio_type" type="radio" name="cogold8" value="5">好多了
            <input class="radio_type" type="radio" name="cogold8" value="4">好一点
            <input class="radio_type" type="radio" name="cogold8" value="3">没变化
            <input class="radio_type" type="radio" name="cogold8" value="2">差一点
            <input class="radio_type" type="radio" name="cogold8" value="1">差多了
            <input class="radio_type" type="radio" name="cogold8" value="0" >不知道

        </li>
        <li><p>学习使用新的家具工具与电器的能力?</p>

            <input class="radio_type" type="radio" name="cogold9" value="5">好多了
            <input class="radio_type" type="radio" name="cogold9" value="4">好一点
            <input class="radio_type" type="radio" name="cogold9" value="3">没变化
            <input class="radio_type" type="radio" name="cogold9" value="2">差一点
            <input class="radio_type" type="radio" name="cogold9" value="1">差多了
            <input class="radio_type" type="radio" name="cogold9" value="0" >不知道

        </li>
        <li><p>学习新事物的能力?</p>

            <input class="radio_type" type="radio" name="cogold10" value="5">好多了
            <input class="radio_type" type="radio" name="cogold10" value="4">好一点
            <input class="radio_type" type="radio" name="cogold10" value="3">没变化
            <input class="radio_type" type="radio" name="cogold10" value="2">差一点
            <input class="radio_type" type="radio" name="cogold10" value="1">差多了
            <input class="radio_type" type="radio" name="cogold10" value="0" >不知道

        </li>
        <li><p>看懂电视或书本中讲的故事?</p>

            <input class="radio_type" type="radio" name="cogold11" value="5">好多了
            <input class="radio_type" type="radio" name="cogold11" value="4">好一点
            <input class="radio_type" type="radio" name="cogold11" value="3">没变化
            <input class="radio_type" type="radio" name="cogold11" value="2">差一点
            <input class="radio_type" type="radio" name="cogold11" value="1">差多了
            <input class="radio_type" type="radio" name="cogold11" value="0" >不知道

        </li>
        <li><p>对日常生活事物自己会做决定?</p>

            <input class="radio_type" type="radio" name="cogold12" value="5">好多了
            <input class="radio_type" type="radio" name="cogold12" value="4">好一点
            <input class="radio_type" type="radio" name="cogold12" value="3">没变化
            <input class="radio_type" type="radio" name="cogold12" value="2">差一点
            <input class="radio_type" type="radio" name="cogold12" value="1">差多了
            <input class="radio_type" type="radio" name="cogold12" value="0" >不知道

        </li>
        <li><p>会用钱买东西?</p>

            <input class="radio_type" type="radio" name="cogold13" value="5">好多了
            <input class="radio_type" type="radio" name="cogold13" value="4">好一点
            <input class="radio_type" type="radio" name="cogold13" value="3">没变化
            <input class="radio_type" type="radio" name="cogold13" value="2">差一点
            <input class="radio_type" type="radio" name="cogold13" value="1">差多了
            <input class="radio_type" type="radio" name="cogold13" value="0" >不知道

        </li>
        <li><p>处理财务的能力（如退休金，到银行）?</p>

            <input class="radio_type" type="radio" name="cogold14" value="5">好多了
            <input class="radio_type" type="radio" name="cogold14" value="4">好一点
            <input class="radio_type" type="radio" name="cogold14" value="3">没变化
            <input class="radio_type" type="radio" name="cogold14" value="2">差一点
            <input class="radio_type" type="radio" name="cogold14" value="1">差多了
            <input class="radio_type" type="radio" name="cogold14" value="0" >不知道

        </li>
        <li><p>处理日常生活上的计算问题（如知道要买多少食物，知道朋友或家人上一次来访有多久了）?</p>

            <input class="radio_type" type="radio" name="cogold15" value="5">好多了
            <input class="radio_type" type="radio" name="cogold15" value="4">好一点
            <input class="radio_type" type="radio" name="cogold15" value="3">没变化
            <input class="radio_type" type="radio" name="cogold15" value="2">差一点
            <input class="radio_type" type="radio" name="cogold15" value="1">差多了
            <input class="radio_type" type="radio" name="cogold15" value="0" >不知道

        </li>
        <li><p>了解正在发生什么事件及其原因?</p>
            <input class="radio_type" type="radio" name="cogold16" value="5">好多了
            <input class="radio_type" type="radio" name="cogold16" value="4">好一点
            <input class="radio_type" type="radio" name="cogold16" value="3">没变化
            <input class="radio_type" type="radio" name="cogold16" value="2">差一点
            <input class="radio_type" type="radio" name="cogold16" value="1">差多了
            <input class="radio_type" type="radio" name="cogold16" value="0" >不知道

        </li>
    </ol>
    <button id="formSubmit" type="submit">提交</button>
    <br>
    <br>
    <br>
</form>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>
<script src="../js/common.js"></script>
<script src="../js/scale_style.js"></script>

<script type="text/javascript">

    var formType = 5;
    var tid = getRequest().tid;
    var pid = getRequest().pid;

    $(function () {
        var pn = $.cookie('pname');
        $("#pname").text(pn);

        let formID = "#form1";
        let autoUploadTime = 20 * 1000;

        let init = () => {
            initData(tid, pid, formType, formID);

            window.setInterval(function () {
                // console.info("数据次数:")
                initForm(tid, pid, formType, formID);
            }, autoUploadTime);
        }

        if (pid) {
            getUnfinished(pid, formType, (lastTid) => {
                if (lastTid) {
                    tid = lastTid;
                }
            })
        }

        if (tid) {
            getData(tid, formType, formID, (data) => {
                console.debug(data);
                pid = data.pid;
                init();
            });
        } else {
            getId(pid, formType, formID, (newTid) => {
                console.debug('Get new tid: ' + newTid);
                tid = newTid
                init();
            });
        };
    });

</script>
</body>
</html>
