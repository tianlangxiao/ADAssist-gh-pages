<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>认知功能变化评估(询问家人或者照顾者)</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
    <link href="../css/forScale.css" rel="stylesheet">
    <link href="../css/scale_style.css" rel="stylesheet">
</head>
<body>
<h2 id="pname"></h2>
<p>请家属或照料者（非本人）填写
    与一年前相比，请您回答他/她是否出现下面的情况  </p>
<form id="form1" class="timu">
    <p>填写时间:</p>
    <input type="date" id="date" name="date">

    <ol>

        <li><p>您有没有觉得他/她的记忆力已经明显下降?</p>

            <input class="radio_type" type="radio" name="cogother1" value="1">是
            <input class="radio_type" type="radio" name="cogother1" value="-1">否
            <input class="radio_type" type="radio" name="cogother1"  value="0">可能

        </li>
        <li><p>他/她有没有经常反复地重复一个问题?</p>

            <input class="radio_type" type="radio" name="cogother2" value="1">是
            <input class="radio_type" type="radio" name="cogother2" value="-1">否
            <input class="radio_type" type="radio" name="cogother2"  value="0">可能

        </li>
        <li><p>他/她是不是变得更容易经常乱放东西?</p>

            <input class="radio_type" type="radio" name="cogother3" value="1">是
            <input class="radio_type" type="radio" name="cogother3" value="-1">否
            <input class="radio_type" type="radio" name="cogother3"  value="0">可能

        </li>
        <li><p>他/她最近是不是经常依赖字条记录事情（如，写购物清单，利用日历记事等）?</p>

            <input class="radio_type" type="radio" name="cogother4" value="1">是
            <input class="radio_type" type="radio" name="cogother4" value="-1">否
            <input class="radio_type" type="radio" name="cogother4"  value="0">可能

        </li>
        <li><p>记住约定事情的时间、家庭聚会和节假日等事务，他/她是不是越来越需要他人的帮助?</p>

            <input class="radio_type" type="radio" name="cogother5" value="1">是
            <input class="radio_type" type="radio" name="cogother5" value="-1">否
            <input class="radio_type" type="radio" name="cogother5"  value="0">可能

        </li>
        <li><p>您是否觉得他/她经常在语言表达方面出现问题，如：回忆别人的名字、用正确的词或完整的句子表达想法?</p>

            <input class="radio_type" type="radio" name="cogother6" value="1">是
            <input class="radio_type" type="radio" name="cogother6" value="-1">否
            <input class="radio_type" type="radio" name="cogother6"  value="0">可能

        </li>
        <li><p>您是否觉得他/她坐公交车外出的能力下降了，例如，以前经常做的线路，现在会出现坐错站或坐过站，甚至找不到坐车的地方等?</p>

            <input class="radio_type" type="radio" name="cogother7" value="1">是
            <input class="radio_type" type="radio" name="cogother7" value="-1">否
            <input class="radio_type" type="radio" name="cogother7"  value="0">可能

        </li>
        <li><p>他/她是否觉得用钱买东西变得困难了，以及处理财务有困难了？（例如，支付账单，购物时计算找零钱等）?</p>

            <input class="radio_type" type="radio" name="cogother8" value="1">是
            <input class="radio_type" type="radio" name="cogother8" value="-1">否
            <input class="radio_type" type="radio" name="cogother8"  value="0">可能

        </li>
        <li><p>他/她参与社会活动或外出活动的次数减少了?</p>

            <input class="radio_type" type="radio" name="cogother9" value="1">是
            <input class="radio_type" type="radio" name="cogother9" value="-1">否
            <input class="radio_type" type="radio" name="cogother9"  value="0">可能

        </li>
        <li><p>他/她的工作表现（带薪或志愿）有明显的下降吗?</p>

            <input class="radio_type" type="radio" name="cogother10" value="1">是
            <input class="radio_type" type="radio" name="cogother10" value="-1">否
            <input class="radio_type" type="radio" name="cogother10"  value="0">可能

        </li>
        <li><p>他/她是否变得更容易出现这样的问题：看不懂书本上或电视节目的情节?</p>

            <input class="radio_type" type="radio" name="cogother11" value="1">是
            <input class="radio_type" type="radio" name="cogother11" value="-1">否
            <input class="radio_type" type="radio" name="cogother11"  value="0">可能

        </li>
        <li><p>他/她在一些日常活动中是否显得明显困难了？例如：他/她的爱好：纸牌游戏、打麻将、运动等?</p>

            <input class="radio_type" type="radio" name="cogother12" value="1">是
            <input class="radio_type" type="radio" name="cogother12" value="-1">否
            <input class="radio_type" type="radio" name="cogother12"  value="0">可能

        </li>
        <li><p>他/她是否变得比较容易迷路，例如：到一个陌生或不熟悉的地方的时候?</p>

            <input class="radio_type" type="radio" name="cogother13" value="1">是
            <input class="radio_type" type="radio" name="cogother13" value="-1">否
            <input class="radio_type" type="radio" name="cogother13"  value="0">可能

        </li>
        <li><p>他/她是否在使用家用电器时显得更困难（如洗衣机，微波炉、电视机）?</p>

            <input class="radio_type" type="radio" name="cogother14" value="1">是
            <input class="radio_type" type="radio" name="cogother14" value="-1">否
            <input class="radio_type" type="radio" name="cogother14"  value="0">可能

        </li>
    </ol>
    <button id="formSubmit" type="submit">提交</button>
    <br>
    <br>
    <br>
</form>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>
<script src="../js/common.js"></script>
<script src="../js/scale_style.js"></script>

<script type="text/javascript">

    var formType = 6;
    var tid = getRequest().tid;
    var pid = getRequest().pid;

    $(function () {
        var pn = $.cookie('pname');
        $("#pname").text(pn);

        let formID = "#form1";
        let autoUploadTime = 20 * 1000;

        let init = () => {
            initData(tid, pid, formType, formID);

            window.setInterval(function () {
                // console.info("数据次数:")
                initForm(tid, pid, formType, formID);
            }, autoUploadTime);
        }

        if (pid) {
            getUnfinished(pid, formType, (lastTid) => {
                if (lastTid) {
                    tid = lastTid;
                }
            })
        }

        if (tid) {
            getData(tid, formType, formID, (data) => {
                console.debug(data);
                pid = data.pid;
                init();
            });
        } else {
            getId(pid, formType, formID, (newTid) => {
                console.debug('Get new tid: ' + newTid);
                tid = newTid
                init();
            });
        };
    });

</script>

</body>
</html>
